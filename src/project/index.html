<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <link rel="icon" type="image/svg+xml" href="/img/favicon.svg" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>UML together</title>

        <meta property="og:type" content="website" />
        <meta property="og:title" content="UML together" />
        <meta property="og:description" content="Revolutionize Your UML Diagramming with Real-Time Collaboration" />
        <meta property="og:image" content="/img/screenshots/preview.png" />

        <link rel="stylesheet" href="/scss/main.scss" />

        <script type="module" defer src="/ts/main.ts"></script>
    </head>
    <body>
        <!-- Modal for displaying messages -->
        <dialog id="modal">
            <div class="modal-container">
                <div class="modal-header">
                    <h1 id="modal-name">Popup</h1>
                    <button id="modal-close-btn" class="close-btn">âœ•</button>
                </div>
                <div id="modal-content" class="modal-content">
                    <div class="loading"></div>
                </div>
                <div class="modal-buttons">
                    <button id="modal-primary-btn">Create</button>
                    <button id="modal-secondary-btn" class="secondary-btn">Cancel</button>
                </div>
            </div>
        </dialog>

        <div id="context-menu">
            <ul>
                <li><button>Option 1</button></li>
                <li><button>Option 2</button></li>
                <li><button>Option 3</button></li>
            </ul>
        </div>
        <dialog id="settings-modal" class="modal">
            <div class="modal-content">
                <span id="settings-modal-close">&times;</span>
                <h2>Settings</h2>
                <div id="settings-container">
                    <nav id="settings-nav">
                        <ul>
                            <li><button id="general-settings-btn">General</button></li>
                            <li><button id="img-export-settings-btn">Export Images</button></li>
                        </ul>
                    </nav>
                    <div id="general-settings" class="settings-page">
                        <div class="option">
                            <label for="settings-filename">File Name</label>
                            <input type="text" id="settings-filename" />
                        </div>
                        <div class="option">
                            <label for="settings-programming-language">Language</label>
                            <select id="settings-programming-language"></select>
                        </div>
                        <div class="option">
                            <label for="settings-grid">Grid</label>
                            <input type="number" pattern="/^[0-9]+$/" id="settings-grid" />
                        </div>
                        <div class="option">
                            <label for="settings-dark-mode">Dark mode</label>
                            <label class="switch" for="settings-dark-mode">
                                <input type="checkbox" id="settings-dark-mode" />
                                <div class="slider round"></div>
                            </label>
                        </div>
                        <div class="option">
                            <label for="settings-store-locally">Store Key Locally</label>
                            <label class="switch" for="settings-store-locally">
                                <input type="checkbox" id="settings-store-locally" />
                                <div class="slider round"></div>
                            </label>
                        </div>
                    </div>
                    <div id="img-export-settings" class="settings-page">
                        <div class="option">
                            <label for="settings-ei-zoom">Resolution</label>
                            <input type="range" id="settings-ei-zoom" />
                        </div>
                        <div class="option">
                            <label for="settings-ei-left-offset">Spacing left</label>
                            <input type="number" pattern="/^[0-9]+$/" id="settings-ei-left-offset" />
                        </div>
                        <div class="option">
                            <label for="settings-ei-right-offset">Spacing right</label>
                            <input type="number" pattern="/^[0-9]+$/" id="settings-ei-right-offset" />
                        </div>
                        <div class="option">
                            <label for="settings-ei-top-offset">Spacing top</label>
                            <input type="number" pattern="/^[0-9]+$/" id="settings-ei-top-offset" />
                        </div>
                        <div class="option">
                            <label for="settings-ei-bottom-offset">Spacing bottom</label>
                            <input type="number" pattern="/^[0-9]+$/" id="settings-ei-bottom-offset" />
                        </div>
                        <div class="option">
                            <label for="settings-ei-background-color">Background color</label>
                            <input type="color" id="settings-ei-background-color" />
                        </div>
                        <div class="option">
                            <label for="settings-ei-bg-alpha">Background alpha</label>
                            <input type="range" min="0" max="1" step="0.01" id="settings-ei-bg-alpha" />
                        </div>
                        <div class="option">
                            <label for="settings-ei-delay">Render delay</label>
                            <input type="number" pattern="/^[0-9]+$/" id="settings-ei-delay" />
                        </div>
                    </div>
                </div>
                <div class="btn-container">
                    <button id="settings-modal-save-btn">Save Changes</button>
                </div>
            </div>
        </dialog>

        <nav id="main-nav">
            <hr />
            <ul id="nav-btn-list">
                <!--Element are generated by code-->
            </ul>
        </nav>
        <nav id="tool-nav">
            <button id="nav-btn">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
                    <path d="M6 36v-3h36v3Zm0-10.5v-3h36v3ZM6 15v-3h36v3Z" />
                </svg>
            </button>
            <div class="nav-item">
                <button id="file-btn">File</button>
                <div class="sub-menu">
                    <button id="nav-btn-new-session">New Project</button>
                    <button id="nav-btn-open-session">Open Project</button>
                    <button id="nav-btn-join-session">Join Project</button>
                    <hr />
                    <button id="nav-btn-save-sever">Save (On Server)</button>
                    <hr />
                    <button id="nav-btn-export-img-json">Export Image</button>
                    <hr />
                    <button id="nav-btn-export-json">Export JSON</button>
                    <button id="nav-btn-import-json">Import JSON</button>
                    <input type="file" name="upload" id="upload-input" class="hidden" />
                    <hr />
                    <button id="nav-btn-generate-code">Generate Code</button>
                    <hr />
                    <button id="nav-btn-settings">Settings</button>
                </div>
            </div>
            <div class="nav-item">
                <button id="tools-btn">Tools</button>
                <div class="sub-menu">
                    <button id="nav-btn-center-view">Center View</button>
                    <button id="nav-btn-reset-zoom">Reset Zoom</button>
                    <hr />
                    <button id="nav-btn-reset-file">Reset File</button>
                    <button id="nav-btn-resize-all">Auto Resize All</button>
                </div>
            </div>
            <div class="nav-item">
                <button id="share-btn">Share</button>
                <div class="sub-menu">
                    <button id="nav-btn-copy-link">Copy Link</button>
                </div>
            </div>
            <div class="nav-item image-item">
                <label for="quick-settings-dark-mode">
                    <img src="/img/darkMode-icon.svg" alt="Dark Mode" title="Toggle Dark/Light Mode" />
                </label>
            </div>
            <div class="nav-item">
                <label class="switch" for="quick-settings-dark-mode" title="Toggle Dark/Light Mode">
                    <input type="checkbox" id="quick-settings-dark-mode" />
                    <div class="slider round"></div>
                </label>
            </div>
        </nav>
        <div id="chat" class="chat chat-hidden">
            <div class="chat-header">
                <h2>Chat</h2>
                <button id="chat-toggle">ðŸ’¬<span id="msg-indicator" class="new-msg-indicator">i</span></button>
            </div>
            <div id="messages" class="chat-messages">
                <div class="message-container">
                    <p class="message-text">Welcome to uml-together :D</p>
                </div>
            </div>
            <div class="chat-input">
                <form id="chat-form">
                    <input type="text" id="chat-input" placeholder="Enter your message..." />
                    <button type="submit">Send</button>
                </form>
            </div>
        </div>

        <div id="inspector-container" class="hidden"></div>

        <div id="diagram" style="height: 100vh">
            <canvas id="main-canvas"> </canvas>
            <div id="component-container"></div>
        </div>
    </body>
</html>
